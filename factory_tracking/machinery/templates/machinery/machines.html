
{% extends 'base.html' %} {% load static %}

{% block title %}Machines{% endblock %}

{% block styles %}
<link
  rel="stylesheet"
  href="{% static 'machinery/css/machines.css' %}"
/>
{% endblock %}

{% block scripts %}
<script src="{% static 'machinery/js/machines.js' %}" defer></script>
{% endblock %}

{% block content %}
<main>
  <h2>Machine Management</h2>

  <div class="filter-bar">
    <select id="statusFilter">
      <option value="">All Status</option>
      <option value="OK">OK</option>
      <option value="Warning">Warning</option>
      <option value="Fault">Fault</option>
    </select>
    <input type="text" id="collectionFilter" placeholder="Filter by Collection" />
  </div>

  <table id="machineTable">
    <thead>
      <tr>
        <th>Name</th>
        <th>Status</th>
        <th>Collection</th>
        <th>Warnings</th>
        <th>Technicians</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Manager-only Form -->
  <div id="managerForm" class="form-container">
    <h3>Add or Modify Machine</h3>
    <form onsubmit="submitMachineForm(event)">
      <label for="machineName">Machine Name</label>
      <input type="text" id="machineName" required>

      <label for="machineStatus">Status</label>
      <select id="machineStatus">
        <option>OK</option>
        <option>Warning</option>
        <option>Fault</option>
      </select>

      <label for="machineCollection">Collection</label>
      <input type="text" id="machineCollection">

      <label for="assignedRoles">Assign To (e.g. technician, repairer)</label>
      <input type="text" id="assignedRoles" placeholder="Comma-separated roles">

      <label for="technicians">Technicians (comma separated)</label>
      <input type="text" id="technicians">

      <button type="submit">Save</button>
    </form>
  </div>
</main>
{% endblock %}
